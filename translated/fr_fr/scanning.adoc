= Test de numérisation et conformité
:revdate: 2025-01-16
:page-revdate: {revdate}
:page-opendocs-origin: /06.scanning/01.scanning/01.scanning.md
:page-opendocs-slug:  /numérisation/numérisation

\{product-name} permet une numérisation et une conformité complètes tout au long du cycle de vie grâce à la numérisation des vulnérabilités et à l'exécution des benchmarks CIS pour la sécurité, ainsi que des vérifications de conformité personnalisées. Le menu des risques de sécurité permet une enquête, un tri et un reporting personnalisables sur la gestion des vulnérabilités et de la conformité. Recherchez facilement les vulnérabilités d'image et découvrez quels nœuds ou conteneurs contiennent ces vulnérabilités. Le filtrage avancé facilite la révision des résultats de numérisation et de vérification de conformité et fournit des rapports personnalisés. Il fournit également des rapports et des modèles de conformité standard et personnalisables pour le PCI, le RGPD et d'autres réglementations.

== Aperçu du test de numérisation de \{product-name}

La numérisation est effectuée à toutes les phases du pipeline, de la construction au registre en passant par l'exécution, sur divers actifs, comme indiqué ci-dessous.

|===
| *Type de scan* | Image | Node | Conteneur | Orchestrateur

| *Vulnérabilités*
| Oui
| Oui
| Oui
| Oui

| *Benchmarks CIS*
| Oui
| Oui
| Oui
| Oui

| *Conformité personnalisée*
| Non
| Oui
| Oui
| Non

| *Sécrets*
| Oui
| Oui
| Oui
| Non

| *Modules*
| Oui
| N/A
| N/A
| N/A
|===

Les images sont scannées soit dans le scan de registre, soit à travers des plug-ins de phase de construction tels que Jenkins, CircleCI, Gitlab, etc.

Les benchmarks CIS supportés par \{product-name} incluent :

* Kubernetes
* Docker
* Bancs d'essai Red Hat OpenShift 'Inspiré par CIS'
* Google GKE

L'implémentation open source de ces benchmarks peut être trouvée sur la https://github.com/neuvector[\{product-name} page Github].

[NOTE]
====
Les secrets peuvent également être détectés sur les nœuds et dans les conteneurs avec xref:customcompliance.adoc[Scripts personnalisés].
====


=== Tester le fichier de déploiement des ressources Kubernetes

\{product-name} est capable de scanner les fichiers yaml de déploiement pour des évaluations de configuration contre les règles de contrôle d'admission. Ceci est utile pour scanner les fichiers yaml de déploiement tôt dans le pipeline afin de déterminer si le déploiement violerait des règles avant d'essayer le déploiement. Veuillez consulter xref:assessment.adoc[Évaluation de la configuration] sous les contrôles d'admission pour plus de détails.

== Tester la gestion des vulnérabilités et de la conformité

\{product-name} fournit plusieurs façons de revoir les résultats des scans de vulnérabilités et de conformité et de générer des rapports. Ceci inclut :

* *Tableau de bord.* Revoir les vulnérabilités résumées et voir comment elles impactent le xref:improve-score.adoc[Score de risque de sécurité] global.
* *Menu des risques de sécurité.* Voir l'impact des vulnérabilités et des problèmes de conformité et générer des rapports avec un filtrage avancé.
* *Menu des actifs.* Voir les résultats de vulnérabilité et de conformité pour chaque actif tel que les registres, les nœuds et les conteneurs.
* *Notifications -> Rapports de risque.* Voir les événements de scan pour chaque actif.
* *Règles de réponse.* Créer des réponses telles que des notifications par webhook ou des quarantaines basées sur les résultats des scans.
* *API REST.* Déclencher des scans et récupérer les résultats des scans par programmation pour automatiser le processus.
* *Alerte SYSLOG/Webhook.* Envoyer les résultats des scans à un SIEM ou à d'autres plateformes d'entreprise.

=== Menu des risques de sécurité

Ces menus combinent les résultats des scans de vulnérabilité et des vérifications de conformité des registres (images), des nœuds et des conteneurs trouvés dans le menu des actifs pour permettre une gestion et un reporting des vulnérabilités de bout en bout. Le menu de profil de conformité permet de personnaliser les vérifications de conformité PCI, GDPR et autres pour générer des rapports de conformité.

image:vulnerabilities_4_4.png[Risques de sécurité]

Voir la section suivante sur xref:vulnerabilities.adoc[Gestion des vulnérabilités] pour savoir comment gérer les vulnérabilités dans ce menu, et la section xref:compliance.adoc[Conformité et normes CIS] pour le reporting sur les normes CIS et la conformité industrielle telles que PCI, GDPR, HIPAA, NIST, PCIv4 et DISA STIG.

=== Menu des actifs de test

Le menu des actifs rapporte les résultats des vérifications de vulnérabilité et de conformité organisés par actif.

* Plateformes. La plateforme d'orchestration telle que Kubernetes, et les scans de vulnérabilité de la plateforme.
* Nœuds. Les nœuds/hôtes protégés par les Enforcers \{product-name}, et les résultats des vérifications de conformité telles que les benchmarks CIS et les vérifications personnalisées, ainsi que les analyses de vulnérabilité des hôtes.
* Conteneurs. Tous les conteneurs dans le cluster, y compris les conteneurs système, et les résultats des vérifications de conformité telles que les benchmarks CIS et les vérifications personnalisées, ainsi que les analyses de vulnérabilité en temps d'exécution des conteneurs. Les statistiques d'activité et de performance des processus peuvent également être trouvées ici.
* Registres. Registres/référentiels scannés par \{product-name}. Les résultats de l'analyse d'image en couches se trouvent ici, et les résultats de l'analyse peuvent être utilisés dans les règles de contrôle d'admission (trouvées dans la Politique -> Contrôles d'admission).

[NOTE]
====
xref:customcompliance.adoc[Vérifications de conformité personnalisées] comme mentionné ci-dessus sont définies dans le menu xref:groups.adoc[Politique -> Groupes].
====

=== Tester l'analyse automatisée en temps d'exécution

\{product-name} peut analyser les conteneurs en cours d'exécution, les nœuds hôtes et la plateforme d'orchestration pour détecter les vulnérabilités. Dans le menu Actifs pour les Nœuds ou Conteneurs, activez l'Auto-Scan en cliquant sur l'onglet Vulnérabilités pour un nœud ou un conteneur, puis Auto-Scan (apparaît en haut à droite) pour analyser tous les conteneurs en cours d'exécution, les nœuds et la plateforme, y compris ceux nouvellement démarrés une fois qu'ils commencent à fonctionner. Vous pouvez également sélectionner un conteneur ou un nœud et l'analyser manuellement.

Vous pouvez cliquer sur chaque nom de vulnérabilité/CVE découvert pour récupérer une description, et cliquer sur la flèche d'inspection dans la fenêtre contextuelle pour voir la description détaillée de la vulnérabilité.

image:Vuln1.png[Vulnérabilités]

L'auto-analyse sera également déclenchée chaque fois qu'il y a une mise à jour de la base de données CVE de \{product-name}. Veuillez consulter la section xref:updating.adoc[Mise à jour de la base de données CVE] pour plus de détails.

== Tester les actions automatisées, les atténuations et les réponses basées sur les vulnérabilités

Des règles de contrôle d'admission peuvent être créées pour empêcher le déploiement d'images vulnérables en fonction des résultats de l'analyse du registre. Voir la Politique de sécurité -> section xref:admission.adoc[Contrôle d'admission] pour plus de détails.

Veuillez consulter la section Politique de sécurité -> xref:responserules.adoc[Règles de réponse] pour des instructions sur la création de réponses automatisées aux vulnérabilités détectées soit lors de l'analyse du registre, soit lors de l'analyse en temps d'exécution, soit lors des benchmarks CIS. Les réponses peuvent inclure la mise en quarantaine, la notification par webhook et la suppression.

=== Tester les registres fédérés pour les résultats de numérisation d'images distribuées

Le cluster principal (maître) peut scanner un registre/repo désigné comme registre fédéré. Les résultats de numérisation de ces registres seront synchronisés avec tous les clusters gérés (distants). Cela permet d'afficher les résultats de numérisation dans la console du cluster géré ainsi que d'utiliser les résultats dans les règles de contrôle d'admission du cluster géré. Les registres n'ont besoin d'être scannés qu'une seule fois au lieu de par chaque cluster, réduisant ainsi l'utilisation du CPU/mémoire et de la bande passante réseau. Voir la section xref:multicluster.adoc[multi-cluster] pour plus de détails.

=== Tester l'auto-scaling des pods de scanner

Les pods de scanner peuvent être configurés pour s'auto-scaler en fonction de certains critères. Cela garantira que les tâches de numérisation sont traitées rapidement et efficacement, surtout s'il y a des milliers d'images à scanner ou à rescanner. Il existe trois paramètres possibles : retardé, immédiat et désactivé. Lorsque les images sont mises en file d'attente pour numérisation par le contrôleur, il garde un 'compte de tâches' de la taille de la file d'attente. Veuillez consulter la section xref:scanners.adoc[multiple scanners] pour plus de détails.

[IMPORTANT]
====
L'auto-scaling des scanners n'est pas pris en charge lorsque le scanner est déployé avec un opérateur OpenShift, car l'opérateur changera toujours le nombre de pods à sa valeur configurée.
====
