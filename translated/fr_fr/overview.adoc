= Aperçu de Test 5.x
:revdate: 2025-01-10
:page-revdate: {revdate}
:page-opendocs-origin: /01.basics/01.overview/01.overview.adoc
:page-opendocs-slug: /basics/overview

== Tester la plateforme de sécurité des conteneurs tout au long de son cycle de vie

[NOTE]
====
Ces documents décrivent la version 5.x (Open Source). Les images 5.x sont accessibles depuis Docker Hub avec le tag approprié, par exemple `+neuvector/controller:(version)+`.
====

\{product-name} fournit une plateforme de sécurité des conteneurs puissante de bout en bout. Cela inclut une analyse des vulnérabilités de bout en bout et une protection complète en temps réel pour les conteneurs, les pods et les hôtes, y compris :

. Gestion des vulnérabilités CI/CD et contrôle d'admission. Analysez les images avec un plug-in Jenkins, analysez les registres et appliquez des règles de contrôle d'admission pour les déploiements en production.
. Protection contre les violations. Découvre le comportement et crée une politique basée sur une liste blanche pour détecter les violations du comportement normal.
. Détection des menaces. Détecte les attaques d'application courantes telles que les attaques DDoS et DNS sur les conteneurs.
. Capteurs DLP et WAF. Inspecte le trafic réseau pour la prévention de la perte de données de données sensibles et détecte les attaques courantes du Top10 OWASP WAF.
. Analyse des vulnérabilités en temps réel. Analyse les registres, les images et les plateformes d'orchestration de conteneurs en cours d'exécution et les hôtes pour des vulnérabilités courantes (CVE) ainsi que des vulnérabilités spécifiques à l'application.
. Conformité et audit. Exécute automatiquement des tests Docker Bench et des benchmarks Kubernetes CIS.
. Sécurité des points de terminaison/hôtes. Détecte les élévations de privilèges, surveille les processus et l'activité des fichiers sur les hôtes et dans les conteneurs, et surveille les systèmes de fichiers des conteneurs pour une activité suspecte.
. Gestion multi-cluster. Surveillez et gérez plusieurs clusters Kubernetes à partir d'une seule console.

D'autres fonctionnalités de \{product-name} incluent la possibilité de mettre les conteneurs en quarantaine et d'exporter des journaux via SYSLOG et des webhooks, d'initier la capture de paquets pour enquête, et d'intégration avec OpenShift RBAC, LDAP, Microsoft AD et SSO avec SAML. Remarque : La quarantaine signifie que tout le trafic réseau est bloqué.  Le conteneur restera et continuera à fonctionner - juste sans aucune connexion réseau.  Kubernetes ne démarrera pas un conteneur pour remplacer un conteneur mis en quarantaine, car le serveur API peut toujours atteindre le conteneur.

== Test des conteneurs de sécurité

La solution de sécurité des conteneurs d'exécution \{product-name} contient quatre types de conteneurs de sécurité : *Contrôleurs*, *Application*, *Gestionnaires*, et *Analyseurs*. Un conteneur spécial appelé *Allinone* est également fourni pour combiner les fonctions de Contrôleur, d'Application et de Gestionnaire dans un seul conteneur, principalement pour les déploiements natifs Docker.

\{product-name} peut être déployé sur des machines virtuelles ou sur des systèmes bare metal avec un seul OS.

image:1Overview.png[Déploiement]

=== Test du contrôleur

Le contrôleur gère le cluster de conteneurs d'application \{product-name}. Il fournit également des API REST pour la console de gestion. Bien que les déploiements de test typiques aient un contrôleur, plusieurs contrôleurs dans une configuration de haute disponibilité sont recommandés. 3 contrôleurs est la valeur par défaut dans l'échantillon yaml de déploiement de production Kubernetes.

=== Test Enforcer

L'Enforcer est un conteneur léger qui applique les politiques de sécurité. Un enforcer doit être déployé sur chaque nœud (hôte), par exemple en tant que Daemon set.

[NOTE]
====
Pour les déploiements Docker natifs (non Kubernetes), le conteneur Enforcer et le Contrôleur ne peuvent pas être déployés sur le même nœud (sauf dans le cas All-in-One ci-dessous).
====


=== Test Manager

Le Manager est un conteneur sans état qui fournit une console web-UI (HTTPS uniquement) pour que les utilisateurs gèrent la solution de sécurité \{product-name}. Plus d'un conteneur Manager peut être déployé si nécessaire.

=== Test All-in-One

Le conteneur All-in-One comprend un Contrôleur, un Enforcer et un Manager dans un seul paquet. Il est utile pour une installation facile dans des déploiements à nœud unique ou à petite échelle.

=== Test Scanner

Le Scanner est un conteneur qui effectue le scan de vulnérabilité et de conformité pour les images, les conteneurs et les nœuds. Il est généralement déployé en tant que replicaset et peut être mis à l'échelle jusqu'à autant de scanners parallèles que souhaité afin d'augmenter les performances de scan. Le Contrôleur attribue les tâches de scan à chaque scanner disponible de manière rotative jusqu'à ce que tous les scans soient terminés. Le scanner contient également la dernière base de données CVE et est mis à jour régulièrement par \{product-name}.

=== Test Updater

L'Updater est un conteneur qui, lorsqu'il est exécuté, met à jour la base de données CVE pour \{product-name}. \{product-name} publie régulièrement de nouvelles images de scanner pour inclure les dernières CVE pour les scans de vulnérabilité. L'updater redéploie tous les pods de scanner en ramenant le déploiement à zéro et en le réélevant, forçant un tirage d'une image de scanner mise à jour.

== Test Architecture

Voici un aperçu général de l'architecture de \{product-name}. Le conteneur de scanner séparé n'est pas montré, il peut également être exécuté en tant que scanner de pipeline autonome.

image:architecture.png[Architecture]

== Exemples de déploiement de test

Pour les modèles de déploiement courants et les meilleures pratiques, voir la xref:production.adoc#_best_practices_tips_qa_for_deploying_and_managing_suse_security[section Onboarding/Meilleures Pratiques].

=== Test All-in-One et Enforcers

Ce déploiement est idéal pour des environnements à nœud unique ou à petite échelle, par exemple pour l'évaluation, les tests et les petits déploiements. Un conteneur All-in-One est déployé sur un nœud, qui peut également être un nœud avec des conteneurs d'application en cours d'exécution. Un Enforcer peut être déployé sur tous les autres nœuds, avec un Enforcer requis sur chaque nœud que vous souhaitez protéger avec \{product-name}. Ceci est également utile pour les déploiements Docker natifs où un contrôleur et un enforcer ne peuvent pas s'exécuter sur le même hôte.

=== Test des conteneurs de contrôleur, de gestionnaire et d'enforcer

C'est un cas d'utilisation de déploiement plus générique qui consiste en un ou plusieurs contrôleurs, un gestionnaire et un ensemble d'enforcers. Le contrôleur et le gestionnaire peuvent être déployés sur le même nœud ou sur des nœuds différents de l'enforcer.

=== Test All-in-One uniquement

Vous pouvez déployer uniquement le conteneur allinone pour le scan de registre, en utilisant le plug-in Jenkins, ou un simple test sur un nœud de \{product-name}.

=== Test du contrôleur uniquement

Il est possible de déployer un seul conteneur de contrôleur et/ou scanner pour gérer le scan de vulnérabilités en dehors d'un cluster, par exemple pour une utilisation avec le plug-in Jenkins. Le scan de registre peut également être effectué par le contrôleur en utilisant exclusivement l'API REST, mais typiquement un conteneur de gestionnaire est également souhaité afin de fournir une configuration basée sur la console et une visualisation des résultats pour le scan de registre.
