= 5.x Vue d'ensemble
:revdate: 2025-01-10
:page-revdate: {revdate}
:page-opendocs-origin: /01.basics/01.overview/01.overview.adoc
:page-opendocs-slug: /basics/overview

== La plateforme de sécurité des conteneurs pour un cycle de vie complet

[NOTE]
====
Ces documents décrivent la version 5.x (Open Source). Les images 5.x sont accessibles depuis Docker Hub avec le tag approprié, par exemple `+neuvector/controller:(version)+`.
====

{product-name} fournit une puissante plateforme de sécurité de bout en bout pour les conteneurs. Cela comprend l'analyse des vulnérabilités de bout en bout et la protection complète de l'exécution pour les conteneurs, les pods et les hôtes, notamment :

. Gestion des vulnérabilités et contrôle d'admission CI/CD. Analysez les images avec un plug-in Jenkins, analysez les registres et appliquez des règles de contrôle d'admission pour les déploiements en production.
. Protection contre les violations. Il découvre les comportements et crée une politique basée sur une liste blanche pour détecter les violations des comportements normaux.
. Détection des menaces. Détecte les attaques d'applications courantes telles que les attaques DDoS et DNS sur les conteneurs.
. Capteurs DLP et WAF. Inspecter le trafic réseau pour la prévention de la perte de données sensibles et détecter les attaques WAF courantes figurant dans le Top 10 de l'OWASP.
. Analyse des vulnérabilités en cours d'exécution. Analyse les registres, les images et les plateformes d'orchestration de conteneurs en cours d'exécution ainsi que les hôtes pour détecter les vulnérabilités communes (CVE) ainsi que les vulnérabilités spécifiques à une application.
. Conformité et audit. Exécute automatiquement les tests Docker Bench et les tests Kubernetes CIS Benchmarks.
. Sécurité du point final/de l'hôte. Détecte les élévations de privilèges, surveille les processus et l'activité des fichiers sur les hôtes et dans les conteneurs, et contrôle les systèmes de fichiers des conteneurs à la recherche d'activités suspectes.
. Gestion multi-clusters. Surveillez et gérez plusieurs clusters Kubernetes à partir d'une seule console.

Parmi les autres fonctionnalités de {product-name} figurent la possibilité de mettre en quarantaine des conteneurs et d'exporter des journaux via SYSLOG et des webhooks, d'initier la capture de paquets à des fins d'investigation et l'intégration avec OpenShift RBACs, LDAP, Microsoft AD et SSO avec SAML. Remarque : La mise en quarantaine signifie que tout le trafic réseau est bloqué.  Le conteneur reste en place et continue de fonctionner, mais sans aucune connexion réseau.  Kubernetes ne démarrera pas un conteneur pour remplacer un conteneur mis en quarantaine, car le serveur api est toujours en mesure d'atteindre le conteneur.

== Conteneurs de sécurité

La solution de sécurité des conteneurs d'exécution {product-name} contient quatre types de conteneurs de sécurité : Les *contrôleurs*, les *responsables de l'application des lois*, les *gestionnaires* et les *scanners*. Un conteneur spécial appelé *Allinone* est également fourni pour combiner les fonctions de contrôleur, d'ensemblier et de gestionnaire dans un seul conteneur, principalement pour les déploiements natifs de Docker.

{product-name} peut être déployé sur des machines virtuelles ou sur des systèmes nus avec un seul os.

image:1Overview.png[Déploiement]

=== Contrôleur

Le contrôleur gère le cluster de conteneurs {product-name} Enforcer. Il fournit également des API REST pour la console de gestion. Bien que les déploiements de test typiques ne comportent qu'un seul contrôleur, il est recommandé de disposer de plusieurs contrôleurs dans une configuration à haute disponibilité. 3 contrôleurs est la valeur par défaut dans l'exemple de déploiement Kubernetes Production yaml.

=== Enforcer

L'Enforcer est un conteneur léger qui applique les politiques de sécurité. Un agent d'exécution doit être déployé sur chaque nœud (hôte), par exemple sous la forme d'un ensemble de démons.

[NOTE]
====
Pour les déploiements natifs Docker (non Kubernetes), le conteneur Enforcer et le contrôleur ne peuvent pas être déployés sur le même nœud (sauf dans le cas All-in-One ci-dessous).
====


=== Gestionnaire

Le Manager est un conteneur sans état qui fournit une console web-UI (HTTPS uniquement) permettant aux utilisateurs de gérer la solution de sécurité {product-name}. Plusieurs conteneurs de gestion peuvent être déployés si nécessaire.

=== Tout-en-un

Le conteneur "tout-en-un" comprend un contrôleur, un contrôleur et un gestionnaire en un seul paquet. Il est utile pour faciliter l'installation d'un nœud unique ou de déploiements à petite échelle.

=== Scanner

Le scanner est un conteneur qui effectue l'analyse de vulnérabilité et de conformité pour les images, les conteneurs et les nœuds. Il est généralement déployé en tant qu'ensemble de répliques et peut être étendu à autant de scanners parallèles que souhaité afin d'augmenter les performances de l'analyse. Le contrôleur attribue les tâches de numérisation à chaque scanner disponible de manière rotative jusqu'à ce que toutes les numérisations soient terminées. Le scanner contient également la dernière base de données CVE et est régulièrement mis à jour par {product-name}.

=== Mise à jour

L'Updater est un conteneur qui, lorsqu'il est exécuté, met à jour la base de données CVE pour {product-name}. {product-name} publie régulièrement de nouvelles images d'analyse afin d'inclure les dernières CVE pour les analyses de vulnérabilité. L'outil de mise à jour redéploie tous les modules de numérisation en ramenant le déploiement à zéro et en l'augmentant, forçant ainsi l'extraction d'une image de numérisation mise à jour.

== Architecture

Voici un aperçu de l'architecture générale de {product-name}. Le conteneur d'analyseur séparé, qui peut également être exécuté en tant qu'analyseur de pipeline autonome, n'est pas illustré.

image:architecture.png[Architecture]

== Exemples de déploiement

Pour les modèles de déploiement communs et les meilleures pratiques, voir la xref:production.adoc#_best_practices_tips_qa_for_deploying_and_managing_suse_security[section Onboarding/Best Practices.]

=== Tout-en-un et Enforcers

Ce déploiement est idéal pour les environnements à nœud unique ou à petite échelle, par exemple pour l'évaluation, les tests et les petits déploiements. Un conteneur All-in-One est déployé sur un seul nœud, qui peut également être un nœud avec des conteneurs d'application en cours d'exécution. Un Enforcer peut être déployé sur tous les autres nœuds, un Enforcer étant nécessaire sur chaque nœud que vous souhaitez protéger à l'aide de {product-name}. Ceci est également utile pour les déploiements Docker natifs où un contrôleur et un enforcer ne peuvent pas fonctionner sur le même hôte.

=== Conteneurs de contrôle, de gestion et d'exécution

Il s'agit d'un cas d'utilisation de déploiement plus générique qui comprend un ou plusieurs contrôleurs, un gestionnaire et un ensemble de contrôleurs. Le contrôleur et le gestionnaire peuvent être déployés sur le même nœud ou sur des nœuds différents de l'Enforcer.

=== Tout-en-un seulement

Vous pouvez déployer uniquement le conteneur allinone pour l'analyse du registre, en utilisant le plug-in Jenkins, ou un simple nœud de test de {product-name}.

=== Contrôleur uniquement

Il est possible de déployer un seul conteneur de contrôleur et/ou un seul scanner pour gérer l'analyse des vulnérabilités en dehors d'un cluster, par exemple pour une utilisation avec le plug-in Jenkins. L'analyse du registre peut également être effectuée par le contrôleur à l'aide de l'API REST exclusivement, mais un conteneur de gestionnaire est généralement souhaité afin de fournir une configuration basée sur la console et la visualisation des résultats de l'analyse du registre.
