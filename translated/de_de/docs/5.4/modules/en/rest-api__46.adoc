= Verbindung zum Manager, REST-API-Server
:revdate: 2025-05-08
:page-revdate: {revdate}
:page-opendocs-origin: /03.configuration/01.console/01.console.md
:page-opendocs-slug: /Konfiguration/Konsole

== Mit UI verbinden

Öffnen Sie ein Browser-Fenster und verbinden Sie sich mit dem Manager über HTTPS. Nachdem der Benutzer die EULA akzeptiert hat, kann er auf die Benutzeroberfläche zugreifen.

[TIP]
====
Je nach der von Ihnen gewählten Bereitstellungsmethode lautet die Adresse des Managers wie folgt
====

[tabs]
======
Docker::
+
====
[,shell]
----
https://<manager_host_ip>:8443
----
==== 

Kubernetes ohne LoadBalancer oder Ingress::
+
====
[,shell]
----
https://<node_host_ip>:<NodePort>
----
====

LoadBalancer oder Ingress konfiguriert::
+
====
[,shell]
----
https://<FQDN|IP>/
---- 
==== 
======

image:3_0_Dashboard.png[Navigation]

Sie können {product-name} über die Konsole oder über die REST-API verwalten.

[NOTE]
====
Siehe unten für Fälle, in denen Ihre Unternehmensfirewall 8443 blockiert.
====

[NOTE]
====
Wenn Ihr Chrome-Browser das selbstsignierte Zertifikat {product-name} blockiert, lesen Sie den nächsten Abschnitt zum Hochladen von Chrome-Zertifikaten. 
====

== Verbindung zum REST-API-Server 

Alle Vorgänge in {product-name} können über die REST-API statt über die Konsole aufgerufen werden. Der REST-API-Server ist Teil des Containers Controller/Allinone. Einzelheiten zur REST-API finden Sie im Abschnitt über Workflow und xref:automation.adoc[Automatisierung]. 

== Standard-Benutzername und -Passwort 

**admin:admin** 

Nach erfolgreicher Anmeldung sollte der Admin-Benutzer das Konto mit einem sichereren Passwort aktualisieren. 

== Zusätzliche Benutzer anlegen 

Neue Benutzer können über das Menü Einstellungen -> Benutzer & Rollen hinzugefügt werden. In {product-name} gibt es vordefinierte globale Rollen: 

* Admin. Kann alle Aktionen mit Ausnahme von Federated Policies durchführen. 
* Föderierte Verwaltung. Fähigkeit, alle Aktionen durchzuführen, einschließlich der Einrichtung von Master/Remote-Clustern und föderierten Richtlinien (Regeln). Nur sichtbar, wenn xref:multicluster.adoc[Multicluster] aktiviert ist. 
* Nur Ansicht (Leser). Es sind keine Aktionen erlaubt, nur das Betrachten. 
* CI-Integration (ciops). Fähigkeit zur Durchführung von CI/CD-Scanning-Integrationsaufgaben wie z. B. Image-Scanning. Diese Benutzerrolle wird für die Verwendung in Scan-Plug-ins der Build-Phase wie Jenkins, Bamboo usw. und für die Verwendung in den REST-API-Aufrufen empfohlen. Sie ist auf Scanfunktionen beschränkt und kann keine Aktionen in der Konsole durchführen. 

Benutzer können über die erweiterten Einstellungen auf einen oder mehrere Namensräume beschränkt werden. 

Im Abschnitt xref:users.adoc[Benutzer und Rollen] finden Sie Informationen zur erweiterten Benutzerverwaltung und zur Erstellung von benutzerdefinierten Rollen. 

== Einstellung der Verbindungszeitüberschreitung 

Sie können die Anzahl der Sekunden, die die Konsole eine Zeitüberschreitung hat, in der oberen rechten Ecke der Konsole unter Mein Profil -> Session timeout einstellen. Der Standardwert ist 5 Minuten und der Höchstwert ist 3600 Sekunden (1 Stunde). 

== Aktivieren von HTTP für Manager 

Um HTTPS zu deaktivieren und den HTTP-Zugang zu aktivieren, fügen Sie dies dem Abschnitt Manager oder Allinone yaml im Abschnitt Umgebungsvariablen hinzu. Zum Beispiel in Kubernetes: 

[,yaml]
----
- name: MANAGER_SSL 
  value: "off" 
----

Für OpenShift entfernen Sie diese Einstellung auch aus dem Abschnitt Route der yaml: 

[,yaml]
----
tls:
    termination: passthrough 
----

Dies ist nützlich, wenn Sie den Manager hinter einem Load Balancer platzieren. 

== Aktivieren des Zugriffs vom Firmennetzwerk, das 8443 blockiert 

Wenn Ihr Unternehmensnetzwerk den Zugriff auf die Manager-Konsole über Port 8443 nicht zulässt, können Sie einen Eingangsdienst erstellen, der diesen Port zuordnet und den Zugriff ermöglicht. 

[NOTE]
====
Die {product-name} UI-Konsole wird als Nicht-Root-Benutzer im Container ausgeführt, daher kann sie nicht auf einem Port unter 1024 lauschen. Aus diesem Grund kann sie nicht in 443 geändert werden. 
====

Wenn Sie versuchen, von Ihrem Firmennetzwerk aus auf die Konsole zuzugreifen. Hier ist die Möglichkeit, den ClusterIP-Dienst und die HTTPS-Umleitung zu verwenden, um dies zu erreichen. 

Erstellen Sie zunächst ein Zertifikat für die HTTPS-Terminierung. Hier ist ein Beispiel:

[,shell]
----
openssl req -x509 -nodes -days 365 -newkey rsa:2048 -keyout tls.key -out tls.crt -subj "/CN=mycloud.domain.com" kubectl create secret tls neuvector-ingress-tls -n neuvector --key="tls.key" --cert="tls.crt" 
----

Verwenden Sie dann die folgende yaml-Datei, um den Port 443 freizugeben, der die HTTPS-Verbindung zum Manager umleitet. 

[,yaml]
----
apiVersion: v1
kind: Service
metadata:
  name: neuvector-cluster-webui
  namespace: neuvector
spec:
  ports:
  - port: 443
    targetPort: 8443
    protocol: TCP
  type: ClusterIP
  selector:
    app: neuvector-manager-pod

---

apiVersion: extensions/v1beta1
kind: Ingress
metadata:
  name: neuvector-ingress-webui
  namespace: neuvector
  annotations:
    ingress.mycloud.net/ssl-services: ssl-service=neuvector-cluster-webui
spec:
  tls:
  - hosts:
    - cloud.neuvector.com
    secretName: neuvector-ingress-tls
  rules:
  - host: cloud.neuvector.com
    http:
      paths:
      - path:
        backend:
          serviceName: neuvector-cluster-webui
          servicePort: 443
----

Sie müssen die Anmerkung für die Ingress-Adresse von ingress.mycloud.net in Ihre entsprechende Adresse ändern. 

In diesem Beispiel wird die URL cloud.neuvector.com verwendet. Nachdem der Ingress-Dienst erstellt wurde, können Sie seine externe IP finden. Sie können dann die hosts-Datei so konfigurieren, dass cloud.neuvector.com auf diese IP-Adresse verweist. Danach sollten Sie in der Lage sein, `+https://cloud.neuvector.com+` (die von Ihnen gewählte URL) aufzurufen. 

=== Verwendung von SSL-Passthrough anstelle von Redirect 

Um TLS/SSL-Passthrough anstelle des obigen Umleitungsbeispiels zu verwenden (das von einigen Ingress-Controllern wie nginx unterstützt wird), stellen Sie sicher, dass der Ingress-Controller entsprechend für Passthrough konfiguriert ist, und fügen Sie dem Ingress die entsprechende Bemerkung hinzu. Zum Beispiel, 

[,yaml]
----
annotations: 
  ingress.kubernetes.io/ssl-passthrough: "true" 
----

== Ersetzen der {product-name} selbstsignierten Zertifikate 

Weitere Informationen finden Sie im nächsten Abschnitt xref:replacecert.adoc[Ersetzen der selbstsignierten Zertifikate]. Das Zertifikat muss sowohl in der Manager- als auch in der Controller-/Allinone-Anwendung ersetzt werden. 

== Konfigurieren von AWS ALB mit Zertifikat ARN 

Hier ein Beispiel für eine Ingress-Konfiguration unter Verwendung des AWS-Load-Balancers mit dem ARN des Zertifikats (der tatsächliche ARN ist verschleiert). 
[,yaml]
----
apiVersion: extensions/v1beta1
kind: Ingress
metadata:
  annotations:
    # https://kubernetes-sigs.github.io/aws-alb-ingress-controller/guide/ingress/annotation/#healthcheck-path
    alb.ingress.kubernetes.io/backend-protocol: HTTPS
    alb.ingress.kubernetes.io/certificate-arn: arn:aws:acm:us-west-2:596810101010:certificate/380b6abc-1234-408d-axyz-651710101010
    alb.ingress.kubernetes.io/healthcheck-path: /
    alb.ingress.kubernetes.io/healthcheck-protocol: HTTPS
    alb.ingress.kubernetes.io/listen-ports: '[{"HTTPS":443}]'
    alb.ingress.kubernetes.io/scheme: internet-facing
    alb.ingress.kubernetes.io/success-codes: "301"
    alb.ingress.kubernetes.io/target-type: instance
    external-dns.alpha.kubernetes.io/hostname: eks.neuvector.com
    kubernetes.io/ingress.class: alb
  labels:
    app: neuvector-webui-ingress
  name: neuvector-webui-ingress
  namespace: neuvector
spec:
  tls:
  - hosts:
    - eks.neuvector.com
  rules:
  - http:
      paths:
      - backend:
          serviceName: neuvector-service-webui
          servicePort: 8443
        path: /*
----
