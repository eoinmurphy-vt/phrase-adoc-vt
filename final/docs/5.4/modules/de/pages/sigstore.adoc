= Sigstore Cosign Signaturprüfer
:revdate: 2025-05-08
:page-revdate: {revdate}
:page-opendocs-origin: /05.policy/03.admission/01.sigstore/01.sigstore.md
:page-opendocs-slug:  /policy/admission/sigstore

== Konfiguration von Sigstore/Cosign-Prüfern zur Anforderung der Bildsignierung

{product-name} ermöglicht es einem Benutzer, die Logik zur Signaturprüfung durch die Integration von Bildsignaturen, die mit dem Cosign-Tool von Sigstore erstellt wurden, durchzuführen.

Das Folgende ist ein Beispiel für eine Konfiguration der Zulassungssteuerung, die erfordert, dass das Bild eines Deployments von einem geeigneten Schlüssel oder einer Identität signiert wird.

Zuerst konfigurieren Sie eine Vertrauensbasis. Dies kann entweder eine öffentliche oder private Vertrauensbasis sein, abhängig von der Sigstore-Bereitstellung, die zur Erstellung von Signaturen verwendet wird. Wenn Sie Ihre eigenen Instanzen der Sigstore-Dienste bereitgestellt haben, wählen Sie die Option für die private Vertrauensbasis.

Eine öffentliche Vertrauensbasis benötigt keine zusätzliche Konfiguration, außer dass ihr ein leicht referenzierbarer Name gegeben wird.

image:1configure-public-root-of-trust.png[sigstore]

Eine private Vertrauensbasis erfordert die Schlüssel und/oder Zertifikate von Ihren privat bereitgestellten Instanzen der Sigstore-Dienste.

image:2configure-private-root-of-trust.png[sigstore]

Als Nächstes konfigurieren Sie für eine gegebene Vertrauensbasis jeden der Prüfer, die Sie während der Zulassungssteuerung verwenden möchten. Es gibt zwei Arten von Prüfern: Schlüsselpaare und schlüssellose Prüfer. Ein Schlüsselpaare-Prüfer würde verwendet werden, wenn versucht wird, ein Bild zu überprüfen, das von einem benutzerdefinierten privaten Schlüssel signiert wurde. Ein schlüsselloser Prüfer würde verwendet werden, wenn eine Signatur überprüft wird, die durch das schlüssellose Muster von Sigstore generiert wurde. Weitere Informationen zu den Signaturmethoden von Sigstore finden Sie in der https://docs.sigstore.dev/cosign/signing/overview/[Sigstore Signing Overview] Dokumentation.

Um einen Schlüsselpaare-Prüfer zu konfigurieren, geben Sie einen Namen und einen öffentlichen Schlüssel an, der einem Zielprivatschlüssel entspricht.

image:3add-keypair-verifier-for-public-root-of-trust.png[sigstore]

Um einen schlüssellosen Prüfer zu konfigurieren, geben Sie den OIDC-Issuer und die Identität an, die während der Signierung verwendet wurden.

image:4add-keyless-verifier-for-public-root-of-trust.png[sigstore]

Beachten Sie, dass nach der Konfiguration der Vertrauensbasis und des Prüfers ein Bild gescannt werden muss, um zu bestimmen, welche Prüfer die Signaturen des gegebenen Bildes erfüllen.

Die konfigurierten Prüfer, die ein Bild erfüllt, können im oberen rechten Bereich der Scanergebnisse eines bestimmten Bildes in Assets->Registries angezeigt werden. Wenn ein Bild nicht von einem Prüfer signiert ist, wird es nicht in seinen Scanergebnissen angezeigt.

image:6new_show_verifiers.scanresults.png[sigstore]

Um einen bestimmten Vertrauensanker und Prüfer in einer Zulassungsregel zu referenzieren, verbinden Sie die beiden Namen mit einem Schrägstrich wie folgt: `my-root-of-trust/my-verifier`.

image:5new_admission_rule_signature.png[sigstore]

Um zu verlangen, dass ein Bild in einer Zulassungsregel signiert wird, setzen Sie den Wahr/Falsch-Wert für das Kriterium "Bild signiert".

image:7image_signed.png[sigstore]
