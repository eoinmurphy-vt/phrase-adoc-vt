= Test_TwoNaviguer dans la Console
:revdate: 2024-09-27
:page-revdate: {revdate}
:page-opendocs-origin: /04.navigation/01.navigation/01.navigation.md
:page-opendocs-slug:  /navigation/navigation

== Test_TwoConsole Access

L'utilisateur et le mot de passe par défaut sont admin.

Veuillez consulter la première section Bases -> Connexion au Gestionnaire pour les options de configuration telles que désactiver https, accéder à la console via un pare-feu d'entreprise qui n'autorise pas le port 8443, ou remplacer le certificat auto-signé.

== Test_TwoMenus et Navigation

Utilisez le menu sur le côté gauche pour naviguer dans votre console \{product-name}. Notez qu'il y a des paramètres supplémentaires en haut à droite pour le Profil Utilisateur et la configuration Multi-Cluster.

image:4-3_Network_Activity.png[Navigation]

== Test_TwoDashboard

Le Tableau de Bord montre un résumé des scores de risque, des événements de sécurité et des protocoles d'application détectés par \{product-name}. Il montre également des détails pour certains de ces événements de sécurité. Des rapports PDF peuvent être générés à partir du Tableau de Bord contenant des graphiques détaillés et des explications.

En haut du tableau de bord, il y a un résumé des risques de sécurité dans le cluster. L'outil clé à molette à côté du score de risque global peut être cliqué pour ouvrir un assistant qui vous guidera à travers les étapes recommandées pour réduire/améliorer le score de risque. Passer la souris sur chaque jauge de risque fournira une description à droite et comment améliorer le score de risque. Voir également la section de documentation séparée Améliorer le Score de Risque de Sécurité.

image:Dashboard_Risks.png[Risques]

* Score de Risque de Sécurité Global. Ceci est un résumé pondéré des domaines de risque individuels résumés à droite, y compris l'exposition au Service, l'exposition Ingress/Egress, et les risques d'exploitation de vulnérabilité. Cliquez sur la clé à molette pour améliorer le score.
* Score de risque d'exposition des services. Ceci est un indicateur du nombre de services protégés par des règles de liste blanche et fonctionnant en mode Monitor ou Protect, où le risque est le plus bas. Un ratio élevé de services en mode Discover signifie que ces services ne sont pas segmentés ou isolés par des règles de liste blanche.
* Score de risque d'entrée/sortie. Ceci est un résumé pondéré des menaces réelles ou des violations de réseau détectées sur les connexions d'entrée ou de sortie (hors du cluster), combiné avec les connexions d'entrée/sortie autorisées. Les connexions externes qui sont protégées par des règles de liste blanche ont un risque plus faible mais peuvent toujours être attaquées par des attaques réseau intégrées. Remarque : Une liste des IP d'entrée et de sortie peut être téléchargée à partir de la section Détails d'entrée/sortie sous forme de rapport d'exposition.
* Score de risque d'exploitation des vulnérabilités. Ceci est le risque d'exploitation des vulnérabilités dans les conteneurs en cours d'exécution. Les services en mode Discover avec des vulnérabilités critiques élevées auront le plus grand impact sur le score, car ils présentent le plus grand risque. Si les services sont en mode Monitor ou Protect mais ont toujours des vulnérabilités élevées, ils sont protégés par des règles réseau et de processus pour identifier (et bloquer) les activités suspectes, donc auront un poids inférieur sur le score. Un avertissement sera affiché si le bouton Auto-Scan n'est pas activé pour le scan automatique en temps réel.

Certains des graphiques sont interactifs, comme indiqué ci-dessous avec les flèches vertes.

image:Dashboard-Click.png[Tableau de bord]

Certaines des données d'événements affichées dans le tableau de bord ont des limites, comme décrit dans la section Reporting.

Protocoles d'application détectés
Ce graphique résume les protocoles d'application détectés dans les connexions en direct dans le cluster. La catégorie '`Autre`' signifie tous les protocoles HTTP non reconnus ou les connexions TCP brutes. Vous pouvez basculer entre les niveaux de couverture d'application et de volume d'application.

* La couverture d'application est le nombre de conversations uniques de pod à pod détectées entre les services d'application. Par exemple, si le pod de service A se connecte au pod de service B en utilisant HTTP, cela constitue une unique '`conversation`', mais toutes les connexions entre A et B comptent comme une conversation.
* Le volume d'application est l'activité réseau mesurée en Gbytes pour tous les services utilisant ce protocole.

=== Test_DeuxActivité Réseau

Cela fournit une carte graphique de vos conteneurs et des conversations entre conteneurs. Il montre également les connexions avec d'autres ressources locales et externes. En modes Monitor et Protect, les violations sont affichées avec des lignes rouges ou jaunes pour indiquer qu'une violation a été détectée.

[NOTE]
====
S'il y a un grand nombre de conteneurs ou de services, la vue par défaut sera automatiquement une vue d'espace de noms (réduite). Double-cliquez sur une icône d'espace de noms pour l'élargir.
====

[NOTE]
====
Cet affichage utilise un GPU local si disponible pour accélérer les temps de chargement. Certains GPU Windows ont des problèmes connus, et l'utilisation du GPU peut être désactivée dans la fenêtre de filtre avancé (voir ci-dessous pour les outils).
====

Certaines des actions possibles sont :

* Déplacer des objets pour mieux voir les services et les conversations
* Cliquez sur n'importe quelle ligne (flèche) pour voir plus de détails tels que le protocole/le port, le dernier horodatage, et pour ajouter ou modifier une règle (REMARQUE : les deux points de terminaison de connexion doivent être entièrement développés en double-cliquant sur chacun d'eux pour voir les détails de la connexion)
* Cliquez sur n'importe quel conteneur pour voir les détails, et le '`i`' pour les connexions en temps réel. Vous pouvez également mettre un nœud en quarantaine depuis ici. Cliquez avec le bouton droit sur un conteneur pour effectuer des actions.
* Filtrer la vue par protocole, ou rechercher par espace de noms, groupe, conteneur (en haut à droite). Vous pouvez ajouter plusieurs filtres à la boîte de sélection.
* Rafraîchir la carte pour montrer les dernières conversations
* Zoomer avant/arrière pour passer d'une vue logique (tous les conteneurs réduits en un groupe de services) ou d'une vue physique (tous les conteneurs pour le même service affichés)
* Activez/désactivez l'affichage des composants d'orchestration tels que les équilibreurs de charge (par exemple, intégrés pour Kubernetes ou Swarm)
* (Icône de Service Mesh) Double-cliquez pour développer un pod dans un service mesh tel qu'Istio/Linkerd2 pour afficher le conteneur sidecar et les conteneurs de charge de travail dans le pod.

Le menu Outils en haut à gauche a ces fonctions, de gauche à droite :

* Zoom avant/arrière
* Réinitialiser les affichages d'icônes (si vous les avez déplacés)
* Ouvrir la fenêtre de filtre avancé (les filtres restent pour la session de connexion de l'utilisateur)
* Afficher/masquer la légende
* Prendre une capture d'écran
* Rafraîchir l'affichage de l'activité réseau

image:4-3_NA_tools.png[Outils]

Un clic droit sur un conteneur affiche les actions suivantes :

image:4-3_NA_Actions.png[Actions]

Vous pouvez voir les sessions actives, commencer les enregistrements de capture de paquets et mettre en quarantaine à partir d'ici. Vous pouvez également changer le mode de protection global pour le service (tous les conteneurs pour ce service) ici. Les options d'extension/repli vous permettent de simplifier ou d'élargir les objets.

Les données dans la carte peuvent prendre quelques secondes après l'activité réseau pour être affichées.

Voir l'explication des icônes de légende en bas de cette page.

=== Test_TwoAssets

Les actifs affichent des informations sur les plateformes, les nœuds, les conteneurs, les registres, les vérificateurs Sigstore (utilisés dans les règles de contrôle d'admission) et les composants système (\{product-name} Contrôleurs, Scanners et Exécuteurs).

\{product-name} inclut une plateforme de gestion des vulnérabilités de bout en bout qui peut être intégrée dans votre processus CI/CD automatisé. Analysez les registres, les images et les conteneurs en cours d'exécution et les nœuds hôtes pour détecter les vulnérabilités. Les résultats pour les registres individuels, les nœuds et les conteneurs peuvent être trouvés ici, tandis que les résultats combinés et les rapports avancés peuvent être trouvés dans le menu des Risques de Sécurité.

\{product-name} exécute également automatiquement le rapport de sécurité Docker Bench et le Benchmark CIS Kubernetes (le cas échéant) sur chaque hôte et conteneurs en cours d'exécution.

Notez que le statut de tous les conteneurs est affiché dans les Actifs -> Conteneurs, ce qui indique le mode de protection \{product-name} (Découvrir, Surveiller, Protéger). Si le conteneur est affiché dans un état 'Sortie', il est toujours sur l'hôte mais est arrêté. La suppression du conteneur le retirera d'un état de Sortie.

Veuillez consulter la section Analyse & Conformité pour des détails supplémentaires, y compris comment utiliser le plug-in Jenkins \{product-name} Scanner de Vulnérabilités.

=== Test_TwoPolicy

Cela affiche et gère la Politique de Sécurité en temps réel qui détermine quel comportement de réseau de conteneur, de processus et d'application de système de fichiers est AUTORISÉ et REFUSÉ. Toute conversation et activité qui ne sont pas explicitement autorisées sont enregistrées comme violations par \{product-name}. C'est également ici que les règles de Contrôle d'Admission peuvent être créées.

Veuillez consulter la section Politique de Sécurité de ces documents pour une explication détaillée du comportement des règles et comment modifier ou créer des règles.

=== Test_TwoRisques de Sécurité

Cela permet une gestion d'enquête, de triage et de reporting des Vulnérabilités et de la Conformité personnalisable. Recherchez facilement les vulnérabilités d'image et découvrez quels nœuds ou conteneurs contiennent ces vulnérabilités. Le filtrage avancé facilite la révision des résultats de scan et de vérification de conformité et fournit des rapports personnalisés.

Ces menus combinent les résultats des scans de vulnérabilités et de vérifications de conformité des registres (image), des nœuds et des conteneurs pour permettre une gestion et un reporting des vulnérabilités de bout en bout.

=== Test_TwoNotifications

C'est ici que vous pouvez voir les journaux des Événements de Sécurité, des Rapports de Risque (par exemple, Analyse) et des Événements généraux. \{product-name} prend également en charge SYSLOG pour l'intégration avec des outils tels que SPLUNK ainsi que des notifications webhook.

*Événements de Sécurité*

Utilisez la recherche ou le Filtre Avancé pour localiser des événements spécifiques. Le widget de chronologie en haut peut également être ajusté à l'aide des cercles gauche et droit pour changer la fenêtre temporelle. Vous pouvez également facilement ajouter des règles (Politique de Sécurité) pour autoriser ou refuser l'événement détecté en sélectionnant le bouton Réviser la Règle et en déployant une nouvelle règle.

\{product-name} surveille en continu tous les conteneurs pour détecter des attaques connues telles que DNS, DDoS, HTTP-smuggling, tunneling, etc. Lorsqu'une attaque est détectée, elle est enregistrée ici et bloquée (si le conteneur/service est configuré pour protéger), et le paquet est automatiquement capturé. Vous pouvez voir les détails du paquet, par exemple :

image:ping-capture.png[Capturer]

*La règle de refus implicite est violée*

Les violations sont des connexions qui enfreignent les règles de la liste blanche ou correspondent à une règle de liste noire. Les violations détaillées sont capturées et les adresses IP sources peuvent être examinées plus en détail.

D'autres événements de sécurité incluent des élévations de privilèges, des processus suspects ou une activité anormale du système de fichiers détectée sur des conteneurs ou des hôtes.

*Rapports de risque*

L'analyse du registre, l'analyse en temps réel, les événements de contrôle d'admission seront affichés ici. De plus, les résultats des benchmarks CIS et des vérifications de conformité seront affichés.

Veuillez consulter la section Reporting pour des détails supplémentaires et des limites d'affichage des événements dans la console.

=== Test_TwoSettings

==== Test_TwoSettings -> Utilisateurs et rôles

Ajoutez d'autres utilisateurs ici. Les utilisateurs peuvent se voir attribuer un rôle d'administrateur, un rôle en lecture seule ou un rôle personnalisé. Dans Kubernetes, les utilisateurs peuvent se voir attribuer un ou plusieurs espaces de noms à accéder. Des rôles personnalisés peuvent également être configurés ici pour que les utilisateurs et les groupes (par exemple, LDAP/AD) soient mappés aux rôles. Voir la section xref:users.adoc[utilisateurs] pour les détails de configuration.

==== Test_TwoSettings -> Configuration

Configurez un nom de cluster unique, un nouveau mode de services et d'autres paramètres ici.

Si vous déployez sur un cluster Rancher ou OpenShift, l'authentification peut être activée de sorte que les utilisateurs de Rancher ou d'OpenShift puissent se connecter à la console \{product-name} avec les RBAC associés. Pour les utilisateurs de Rancher, un bouton/lien de connexion depuis la console Rancher permet aux administrateurs Rancher d'ouvrir et d'accéder directement à la console \{product-name}.

Le xref:modes.adoc#_new_service_mode[Mode de Nouveau Service] définit quel mode de protection tout nouveau service (application) précédemment inconnu ou indéfini dans \{product-name} sera par défaut. Pour les environnements de production, il n'est pas recommandé de définir cela sur Découvrir.

Le xref:modes.adoc#_network_service_policy_mode[Mode de Politique de Service Réseau], s'il est activé, applique le mode de politique sélectionné globalement aux règles réseau pour tous les groupes, et le mode de politique individuel de chaque groupe ne s'appliquera qu'aux règles de processus et de fichiers.

Le xref:modes.adoc#_automated_promotion_of_group_modes[Promotion Automatisée des Modes de Groupe] promeut automatiquement le Mode de protection d'un groupe (de Découvrir à Surveiller à Protéger) en fonction du temps écoulé et des critères.

La Suppression Automatique des Groupes Inutilisés est utile pour un 'nettoyage' automatisé des groupes découverts (et des règles auto-créées pour) qui ne sont plus utilisés, en particulier dans les environnements de développement à forte rotation. Voir les Groupes de Politique -> pour la liste des groupes dans \{product-name}. La suppression des Groupes inutilisés nettoiera la liste des Groupes et toutes les règles associées à ces groupes.

Le X-FORWARDED-FOR active/désactive l'utilisation de ces en-têtes dans l'application des règles réseau de \{product-name}. Ceci est utile pour conserver l'adresse IP source d'origine d'une connexion d'entrée afin qu'elle puisse être utilisée pour l'application des règles réseau. Activer signifie que l'adresse IP source sera conservée. Voir ci-dessous pour une explication détaillée.

Plusieurs webhooks peuvent être configurés pour être utilisés dans xref:responserules.adoc[Règles de Réponse] pour des notifications personnalisées. Les choix de format de webhook incluent Slack, JSON et paires clé-valeur.

Un Proxy de Registre peut être configuré si votre connexion de scan de registre entre le contrôleur et le registre doit passer par un proxy.

Configurez l'intégration SIEM via xref:reporting.adoc#_siem_and_syslog[SYSLOG], y compris les types d'événements, le port, etc. Vous pouvez également choisir d'envoyer des événements aux journaux de pod du contrôleur au lieu de ou en plus de syslog. Notez que ces événements ne seront envoyés qu'au journal du pod contrôleur principal (pas à tous les journaux de pods contrôleurs dans un déploiement multi-contrôleur).

Une intégration avec xref:ibmsa.adoc[IBM Security Advisor] et xref:ibmqr.adoc[QRadar] peut être établie.

Importer/Exporter le fichier de stratégie de sécurité. Vous pouvez configurer SSO pour SAML et LDAP/AD ici également. Voir la section Intégration d'entreprise pour les détails de configuration. *_Important!_* Faites attention lors de l'importation du fichier de configuration. L'importation écrasera les paramètres existants. Si vous importez un fichier de '`stratégie uniquement`', les Groupes et Règles de la Stratégie seront écrasés. Si vous importez un fichier avec '`tous`' les paramètres, alors la Stratégie, les Utilisateurs et les Configurations seront écrasés. Notez que le mot de passe de l'utilisateur '`admin`' original de votre contrôleur actuel sera également écrasé avec le mot de passe de l'admin original dans le fichier importé.

Le rapport d'utilisation et les exports de journal de collecte peuvent être demandés par votre équipe de support \{product-name}.

===== Détails du comportement Test_TwoX-FORWARDED-FOR

Dans un cluster Kubernetes, une application peut être exposée à l'extérieur du cluster par un NodePort, LoadBalancer ou des services Ingress. Ces services remplacent généralement l'IP source lors de la réalisation du NAT source (SNAT) sur les paquets. Comme l'IP source originale est masquée, cela empêche \{product-name} de reconnaître que la connexion provient en réalité de l'extérieur.

Pour préserver l'adresse IP source originale, l'utilisateur doit ajouter la ligne suivante aux services exposés, dans la section 'spec' du répartiteur de charge ou du contrôleur d'ingress faisant face à l'extérieur. (Ref: https://kubernetes.io/docs/tutorials/services/source-ip/)

[,json]
----
"externalTrafficPolicy":"Local"
----

De nombreuses implémentations de services LoadBalancer et de contrôleurs d'Ingress ajouteront la ligne X-FORWARDED-FOR à l'en-tête de la requête HTTP pour communiquer la véritable IP source aux applications backend. Ce produit peut reconnaître cet ensemble d'en-têtes HTTP, identifier l'IP source originale et appliquer la stratégie en conséquence.

Cette amélioration a créé des problèmes inattendus dans certaines configurations. Si la ligne ci-dessus a été ajoutée aux services exposés et que les politiques réseau de \{product-name} ont été créées de manière à s'attendre à ce que les connexions réseau proviennent de services proxy/ingress internes, car nous identifions maintenant que les connexions proviennent de "l'extérieur" du cluster, le trafic d'application normal pourrait déclencher des alertes ou être bloqué si les applications sont mises en mode "Protection".

Un interrupteur est disponible pour désactiver cette fonctionnalité. La désactivation indique à \{product-name} de ne pas identifier que la connexion provient de "l'extérieur" en utilisant les en-têtes X-FORWARDED-FOR. Par défaut, cela est activé, et l'en-tête X-FORWARDED-FOR est utilisé dans l'application des politiques. Pour le désactiver, allez dans Paramètres -> Configuration, et désactivez le paramètre "Correspondance de politique basée sur X-Forwarded-For".

==== Test_TwoSettings -> LDAP/AD, SAML et OpenID Connect

\{product-name} prend en charge l'intégration avec LDAP/AD, SAML et OpenID Connect pour SSO et le mappage des groupes d'utilisateurs. Voir la section xref:integration.adoc[Intégration d'entreprise] pour les détails de configuration.

==== Test_TwoMultiple Gestion de Cluster

Vous pouvez gérer xref:multicluster.adoc[plusieurs clusters \{product-name}] (par exemple, plusieurs clusters Kubernetes exécutant \{product-name} sur différents clouds ou sur site) en sélectionnant un cluster Maître et en rejoignant des clusters distants à ceux-ci. Chaque cluster distant peut également être géré individuellement. Les règles de sécurité peuvent être propagées à plusieurs clusters grâce à l'utilisation des paramètres de politique fédérée.

==== Test_TwoMon Profil

Vous pouvez augmenter le paramètre de délai d'attente du navigateur, changer votre mot de passe et effectuer d'autres modifications administratives de profil.

=== Test_TwoDescriptions d'icônes dans la légende > Activité Réseau

Vous pouvez activer/désactiver la légende dans la boîte à outils de la carte d'activité réseau.

image:4-3_NA_Legend.png[Légende]

Voici ce que signifient les icônes :

==== Test_TwoRéseau externe

C'est tout réseau en dehors du cluster \{product-name}. Cela pourrait inclure l'accès public à Internet ou d'autres réseaux internes.

==== Test_TwoNamespace

Espace de noms dans Kubernetes ou Projet dans OpenShift

==== Test_TwoGroup/Container/Service Mesh dans la découverte

Ce conteneur est en mode Découverte, où les connexions vers/depuis lui sont apprises et des règles de liste blanche seront automatiquement créées.

==== Test_TwoGroup/Container/Service Mesh étant surveillé

Ce conteneur est en mode Surveillance, où les violations seront enregistrées mais non bloquées.

==== Test_TwoGroup/Container/Service Mesh étant protégé

Ce conteneur est en mode Protection, où les violations seront bloquées.

==== Test_TwoContainer Group

Cela représente un groupe de conteneurs dans un service. Utilisez ceci pour fournir une vue plus abstraite s'il y a de nombreuses instances de conteneurs pour un service/application (c'est-à-dire à partir de la même image).

==== Test_TwoUn-managed node

Ce nœud a été détecté mais n'a pas de contrôleur \{product-name} dessus.

==== Test_TwoUn-managed container

Ce conteneur a été détecté mais n'est pas sur un nœud avec un contrôleur \{product-name} dessus. Cela pourrait également représenter certains services système.

==== Test_TwoExited Container

Ce conteneur n'est pas en cours d'exécution mais dans un état 'exité'.

==== Test_TwoIP group

Ceci est un groupe d'adresses IP.

==== Test_TwoNormal Conversation

Les connexions autorisées et sur liste blanche sont affichées en bleu.

==== Test_TwoInternal Conversation

Une connexion au sein d'un service est affichée en gris clair.

==== Test_TwoConversation avec avertissement

Une connexion ayant généré une alerte de violation est affichée en rouge plus clair.

==== Test_TwoConversation étant bloquée

Si une connexion est une violation, comme indiqué en rouge, et a été bloquée par \{product-name}, la flèche aura un '`x`' dedans.

==== Test_TwoContainer mis en quarantaine

Les conteneurs avec un cercle rouge autour d'eux ont été mis en quarantaine. Pour désactiver la quarantaine, faites un clic droit sur le conteneur et sélectionnez le bouton de désactivation de la quarantaine.
