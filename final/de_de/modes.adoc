= Test_ThreeModes: Entdecken, Überwachen, Schützen
:revdate: 2024-09-27
:page-revdate: {revdate}
:page-opendocs-origin: /05.policy/02.modes/02.modes.md
:page-opendocs-slug:  /policy/modes

== Test_Drei\{product-name} Modi

Das \{product-name} Modul zur Erkennung von Verstößen hat drei Modi: Entdecken, Überwachen und Schützen. Zu jedem Zeitpunkt kann jede Gruppe (beginnend mit 'nv' oder der Gruppe 'Nodes') in einem dieser Modi sein. Der Modus kann über das Gruppenmenü, die Ansicht der Netzwerkaktivität oder das Dashboard gewechselt werden. Container-Gruppen können Prozess-/Dateiregeln in einem anderen Modus als Netzwerkregeln haben, wie xref:modes.adoc#_network_service_policy_mode[hier] beschrieben.

image:switchmodes.png[Modi]

[NOTE]
====
Benutzerdefinierte Gruppen haben keinen Schutzmodus. Das liegt daran, dass sie Container aus verschiedenen zugrunde liegenden Gruppen enthalten können, von denen jede in einem anderen Modus sein kann, was zu Verwirrung über das Verhalten führt.
====

=== Test_ThreeDiscover

Standardmäßig startet \{product-name} im Entdeckungsmodus. In diesem Modus: \{product-name}

* Entdeckt Ihre Container-Infrastruktur, einschließlich Container, Knoten und Hosts.
* Lernt Ihre Anwendungen und Verhaltensweisen, indem es Gespräche (Netzwerkverbindungen) zwischen Containern beobachtet.
* Identifiziert separate Dienste und Anwendungen, die ausgeführt werden.
* Erstellt automatisch eine Whitelist von Netzwerkregeln, um das normale Netzwerkverhalten der Anwendung zu schützen.
* Erstellt Baselines der in Containern laufenden Prozesse für jeden Dienst und erstellt Whitelist-Profilregeln für Prozesse.

[NOTE]
====
Um zu bestimmen, wie lange ein Dienst im Entdeckungsmodus laufen soll, leiten Sie Testverkehr durch die Anwendung und überprüfen Sie alle Regeln auf Vollständigkeit. Mehrere Stunden sollten ausreichend sein, aber einige Anwendungen benötigen möglicherweise einige Tage, um vollständig getestet zu werden. Im Zweifelsfall wechseln Sie in den Überwachungsmodus und überprüfen Sie auf Verstöße, die dann in Whitelist-Regeln umgewandelt werden können, bevor Sie in den Schutzmodus wechseln.
====

=== Test_ThreeMonitor

Im Überwachungsmodus überwacht \{product-name} Gespräche und erkennt Laufzeitverstöße Ihrer Sicherheitsrichtlinie. In diesem Modus werden von \{product-name} keine neuen Regeln erstellt, aber Regeln können jederzeit manuell hinzugefügt werden.

Wenn Verstöße erkannt werden, sind sie im Netzwerkaktivitätsdiagramm visuell durch eine rote Linie sichtbar. Verstöße werden auch protokolliert und im Benachrichtigungs-Tab angezeigt. Verstöße gegen Prozessprofilregeln und Datei Zugriffsverletzungen werden in den Benachrichtigungen -> Sicherheitsereignisse protokolliert.

Im Netzwerkdiagramm können Sie auf jedes Gespräch (grüne, gelbe, rote Linie) klicken, um weitere Details über die Art der Verbindung und das zuletzt überwachte Protokoll anzuzeigen. Sie können auch die Schaltflächen Suchen und Filtern nach Gruppe in der unteren rechten Ecke verwenden, um die Anzeige Ihrer Container einzugrenzen.

=== Test_ThreeProtect

Im Schutzmodus blockiert \{product-name} Verstöße und Angriffe, die erkannt werden. Verstöße werden im Netzwerkdiagramm mit einem roten '`x`' angezeigt, was bedeutet, dass sie blockiert wurden. Unbefugte Prozesse und Datei Zugriffe werden ebenfalls im Schutzmodus blockiert. DLP-Sensoren, die übereinstimmen, blockieren Netzwerkverbindungen.

== Test_DreiWechseln Zwischen Modi

Sie können \{product-name} Gruppen einfach von einem Modus in einen anderen wechseln. Denken Sie daran, dass \{product-name} im Entdeckungsmodus eine Sicherheitsrichtlinie für erlaubtes, normales Containerverhalten erstellt. Sie können diese Regeln im Tab Richtlinie -> Gruppen oder im Detail im Menü Richtlinie -> Netzwerkregeln sehen.

Wenn Sie von Entdecken in den Überwachungsmodus wechseln, wird \{product-name} alle Verstöße gegen normales Verhalten, die nicht ausdrücklich erlaubt sind, kennzeichnen. Da \{product-name} Richtlinien basierend auf Anwendungen und Gruppen mit ähnlichen Attributen durchsetzt, ist es normalerweise nicht erforderlich, Regeln hinzuzufügen oder zu bearbeiten, wenn Container vergrößert oder verkleinert werden.

Bitte stellen Sie sicher, dass Sie, bevor Sie neue Updates einführen, die zu neuen Arten von Verbindungen zwischen Containern führen, die betroffenen Dienste in den Entdeckungsmodus wechseln, um diese neuen Verhaltensweisen zu lernen. Alternativ können Sie neue Regeln manuell hinzufügen, während Sie sich in einem beliebigen Modus befinden, oder die CRD bearbeiten, die zur Erstellung der Regeln verwendet wurde, um neue Verhaltensweisen hinzuzufügen.

=== Test_DreiNeuer Dienstmodus

Wenn neue Dienste von \{product-name} entdeckt werden, zum Beispiel wenn ein zuvor unbekannter Container zu laufen beginnt, kann er in einen Standardmodus gesetzt werden. Im Entdeckungsmodus wird \{product-name} beginnen, sein Verhalten zu lernen und Regeln zu erstellen. Im Überwachungsmodus wird eine Verletzung erzeugt, wenn Verbindungen zum neuen Dienst erkannt werden. Im Schutzmodus werden alle Verbindungen zum neuen Dienst blockiert, es sei denn, die Regeln wurden zuvor erstellt.

image:newservices.png[NewServiceMode]

=== Test_DreiNetzwerkdienstrichtlinienmodus

Es gibt eine globale Einstellung in den Einstellungen -> Konfiguration, um den Netzwerk-Schutzmodus separat für die Durchsetzung von Netzwerkregeln festzulegen. Wenn dies aktiviert ist (Standard ist deaktiviert), werden alle Netzwerkregeln im ausgewählten Schutzmodus (Entdecken, Überwachen, Schützen) sein, während Prozess-/Dateiregeln im Schutzmodus für diese Gruppe bleiben, wie im Richtlinienbildschirm -> Gruppen angezeigt. Auf diese Weise können Netzwerkregeln auf Schützen (blockieren) gesetzt werden, während Prozess-/Dateirichtlinien auf Überwachen gesetzt werden können, oder umgekehrt.

=== Test_DreiAutomatisierte Förderung von Gruppenmodi

Fördert den Schutzmodus einer Gruppe basierend auf verstrichener Zeit und Kriterien. Diese Automatisierung gilt nicht für CRD-erstellte Gruppen. Dieses Feature ermöglicht es einer neuen Anwendung, eine Zeit lang im Entdeckungsmodus zu laufen, das Verhalten zu lernen und \{product-name} erlaubt, Regeln für Netzwerk und Prozess zu erstellen, und dann automatisch in den Überwachungsmodus und dann in den Schutzmodus zu wechseln.

Das Kriterium für den Wechsel vom Entdeckungs- in den Überwachungsmodus ist: verstrichene Zeit zum Lernen aller Netzwerk- und Prozessaktivitäten von mindestens einem aktiven Pod in der Gruppe. Wenn dies beispielsweise auf 7 Tage eingestellt ist, wird der Modus 7 Tage nach der Erkennung eines laufenden Pods für die Gruppe automatisch auf Überwachen befördert.

Das Kriterium für den Wechsel vom Überwachungs- in den Schutzmodus ist: Es gibt keine Sicherheitsereignisse (Netzwerk, Prozess usw.) für den festgelegten Zeitraum für die Gruppe. Wenn dies beispielsweise auf 14 Tage eingestellt ist, wird der Modus automatisch auf Schützen befördert, wenn innerhalb von 14 Tagen keine Verstöße (Netzwerk, Prozess, Datei) ausgelöst werden (z. B. die ruhige Periode). Wenn keine laufenden Pods in der Gruppe vorhanden sind, wird die Beförderung nicht stattfinden.

image:policy_promotion.png[Förderung]

==== Test_Drei Konfliktlösung zwischen Diensten in verschiedenen Modi

Für Netzwerkverbindungen zwischen Containern in verschiedenen Dienstgruppen, wenn ihre Richtlinienmodi unterschiedlich sind, zeigt die folgende Tabelle, wie das System die Konflikte löst.

|===
| Quelle | Ziel | Effektiver Modus

| Entdecken
| Überwachen
| Entdecken

| Entdecken
| Schützen
| Entdecken

| Überwachen
| Entdecken
| Entdecken

| Überwachen
| Schützen
| Überwachen

| Schützen
| Entdecken
| Entdecken

| Schützen
| Überwachen
| Überwachen
|===

Wie Sie sehen können, fällt der effektive Modus immer auf den am wenigsten restriktiven Richtlinienmodus zurück.

[NOTE]
====
Das oben Genannte gilt nur für Netzwerkregeln.
====
