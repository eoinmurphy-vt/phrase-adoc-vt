= Modi: Entdecken, Überwachen, Schützen
:revdate: 2024-09-27
:page-revdate: {revdate}
:page-opendocs-origin: /05.policy/02.modes/02.modes.md
:page-opendocs-slug:  /policy/modes

== {product-name} Modi

Das {product-name} Modul zur Erkennung von Verstößen hat drei Modi: Entdecken, Überwachen und Schützen. Zu jedem Zeitpunkt kann jede Gruppe (beginnend mit 'nv' oder der Gruppe 'Nodes') in einem dieser Modi sein. Der Modus kann über das Gruppenmenü, die Ansicht der Netzwerkaktivität oder das Dashboard gewechselt werden. Containergruppen können Prozess-/Dateiregeln in einem anderen Modus als Netzwerkregeln haben, wie xref:modes.adoc#_network_service_policy_mode[hier] beschrieben.

image:switchmodes.png[Modi]

[NOTE]
====
Benutzerdefinierte Gruppen haben keinen Schutzmodus. Das liegt daran, dass sie Container aus verschiedenen zugrunde liegenden Gruppen enthalten können, von denen jede in einem anderen Modus sein kann, was zu Verwirrung über das Verhalten führt.
====

=== Entdecken

Standardmäßig startet {product-name} im Entdeckungsmodus. In diesem Modus {product-name}:

* Entdeckt Ihre Containerinfrastruktur, einschließlich Container, Knoten und Hosts.
* Lernt Ihre Anwendungen und Verhaltensweisen, indem es Gespräche (Netzwerkverbindungen) zwischen Containern beobachtet.
* Identifiziert separate Dienste und Anwendungen, die ausgeführt werden.
* Erstellt automatisch eine Whitelist von Netzwerkregeln, um das normale Netzwerkverhalten von Anwendungen zu schützen.
* Baselines die Prozesse, die in Containern für jeden Dienst laufen, und erstellt Whitelist-Profilregeln.

[NOTE]
====
Um zu bestimmen, wie lange ein Dienst im Entdeckungsmodus laufen soll, führen Sie Testverkehr durch die Anwendung und überprüfen Sie alle Regeln auf Vollständigkeit. Mehrere Stunden sollten ausreichend sein, aber einige Anwendungen benötigen möglicherweise einige Tage, um vollständig getestet zu werden. Im Zweifelsfall wechseln Sie in den Überwachungsmodus und überprüfen Sie auf Verstöße, die dann in Whitelist-Regeln umgewandelt werden können, bevor Sie in den Schutzmodus wechseln.
====

=== Überwachen

Im Überwachungsmodus {product-name} überwacht Gespräche und erkennt Laufzeitverstöße Ihrer Sicherheitsrichtlinie. In diesem Modus werden keine neuen Regeln von {product-name} erstellt, aber Regeln können jederzeit manuell hinzugefügt werden.

Wenn Verstöße erkannt werden, sind sie im Netzwerkaktivitätsdiagramm visuell durch eine rote Linie sichtbar. Verstöße werden auch protokolliert und im Benachrichtigungs-Tab angezeigt. Verstöße gegen Prozessprofilregeln und Dateizugriffe werden in den Benachrichtigungen -> Sicherheitsereignisse protokolliert.

Im Netzwerkdiagramm können Sie auf jedes Gespräch (grüne, gelbe, rote Linie) klicken, um weitere Details über die Art der Verbindung und das zuletzt überwachte Protokoll anzuzeigen. Sie können auch die Schaltflächen Suchen und Filtern nach Gruppe in der unteren rechten Ecke verwenden, um die Anzeige Ihrer Container einzugrenzen.

=== Schützen

Im Schutzmodus blockiert {product-name} Durchsetzer alle erkannten Netzwerkverstöße und Angriffe. Verstöße werden im Netzwerkdiagramm mit einem roten &apos;`+x+`&apos; angezeigt, was bedeutet, dass sie blockiert wurden. Unbefugte Prozesse und Dateizugriffe werden ebenfalls im Schutzmodus blockiert. DLP-Sensoren, die übereinstimmen, blockieren Netzwerkverbindungen.

== Wechseln zwischen Modi

Sie können {product-name} Gruppen einfach von einem Modus in einen anderen wechseln. Denken Sie daran, dass im Entdeckungsmodus {product-name} eine Sicherheitsrichtlinie für erlaubtes, normales Containerverhalten erstellt. Sie können diese Regeln im Tab "Policy -> Gruppen" oder im Detail im Menü "Policy -> Netzwerkregeln" sehen.

Wenn Sie von Discover- in den Monitor-Modus wechseln, wird {product-name} alle Verstöße gegen das normale Verhalten kennzeichnen, die nicht ausdrücklich erlaubt sind. Da {product-name} Richtlinien basierend auf Anwendungen und Gruppen mit ähnlichen Attributen durchsetzt, ist es normalerweise nicht erforderlich, Regeln hinzuzufügen oder zu bearbeiten, wenn Container hoch- oder heruntergefahren werden.

Bitte stellen Sie sicher, dass Sie, bevor Sie neue Updates einführen, die zu neuen Arten von Verbindungen zwischen Containern führen, die betroffenen Dienste in den Discover-Modus wechseln, um diese neuen Verhaltensweisen zu lernen. Alternativ können Sie neue Regeln manuell hinzufügen, während Sie sich in einem beliebigen Modus befinden, oder die CRD bearbeiten, die zur Erstellung der Regeln verwendet wird, um neue Verhaltensweisen hinzuzufügen.

=== Neuer Dienstmodus

Wenn neue Dienste von {product-name} entdeckt werden, zum Beispiel wenn ein zuvor unbekannter Container zu laufen beginnt, kann er in einen Standardmodus gesetzt werden. Im Discover-Modus wird {product-name} beginnen, sein Verhalten zu lernen und Regeln zu erstellen. Im Monitor-Modus wird ein Verstoß generiert, wenn Verbindungen zum neuen Dienst erkannt werden. Im Protect-Modus werden alle Verbindungen zum neuen Dienst blockiert, es sei denn, die Regeln wurden zuvor erstellt.

image:newservices.png[NewServiceMode]

=== Netzwerkdienst-Richtlinienmodus

Es gibt eine globale Einstellung in den Einstellungen -> Konfiguration, um den Netzwerk-Schutzmodus zur Durchsetzung der Netzwerkregeln separat festzulegen. Wenn dies aktiviert ist (Standard ist deaktiviert), werden alle Netzwerkregeln im ausgewählten Schutzmodus (Discover, Monitor, Protect) sein, während Prozess-/Dateiregeln im Schutzmodus für diese Gruppe bleiben, wie im Bildschirm "Policy -> Gruppen" angezeigt. Auf diese Weise können Netzwerkregeln auf Protect (blockierend) gesetzt werden, während die Prozess-/Dateirichtlinien auf Monitor oder umgekehrt gesetzt werden können.

=== Automatisierte Förderung von Gruppenmodi

Fördert den Schutzmodus einer Gruppe basierend auf verstrichener Zeit und Kriterien. Diese Automatisierung gilt nicht für CRD-erstellte Gruppen. Dieses Feature ermöglicht es einer neuen Anwendung, für einen bestimmten Zeitraum im Discover-Modus zu laufen, das Verhalten zu lernen und {product-name} Erlauben-Listenregeln für Netzwerk und Prozess zu erstellen, und dann automatisch in den Monitor- und dann in den Protect-Modus zu wechseln.

Das Kriterium für den Wechsel vom Discover- in den Monitor-Modus ist: verstrichene Zeit zum Lernen aller Netzwerk- und Prozessaktivitäten von mindestens einem aktiven Pod in der Gruppe. Wenn dies beispielsweise auf 7 Tage eingestellt ist, wird der Modus 7 Tage nach der Erkennung eines laufenden Pods für die Gruppe automatisch auf Monitor befördert.

Das Kriterium für den Wechsel vom Monitor- in den Schutzmodus ist: Es gibt keine Sicherheitsereignisse (Netzwerk, Prozess usw.) für den festgelegten Zeitraum der Gruppe. Wenn dies beispielsweise auf 14 Tage eingestellt ist, dann wird der Modus automatisch auf Schutz erhöht, wenn innerhalb von 14 Tagen (z. B. der Ruhezeitraum) keine Verstöße (Netzwerk, Prozess, Datei) ausgelöst werden. Wenn keine laufenden Pods in der Gruppe vorhanden sind, erfolgt die Beförderung nicht.

image:policy_promotion.png[Förderung]

==== Konfliktlösung zwischen Diensten in verschiedenen Modi

Für Netzwerkverbindungen zwischen Containern in verschiedenen Dienstgruppen zeigt die folgende Tabelle, wie das System die Konflikte löst, wenn ihre Richtlinienmodi unterschiedlich sind.

|===
| Quelle | Ziel | Effektiver Modus

| Entdecken
| Überwachen
| Entdecken

| Entdecken
| Schützen
| Entdecken

| Überwachen
| Entdecken
| Entdecken

| Überwachen
| Schützen
| Überwachen

| Schützen
| Entdecken
| Entdecken

| Schützen
| Überwachen
| Überwachen
|===

Wie Sie sehen können, fällt der effektive Modus immer auf den am wenigsten restriktiven Richtlinienmodus zurück.

[NOTE]
====
Das oben Genannte gilt nur für Netzwerkregeln.
====
